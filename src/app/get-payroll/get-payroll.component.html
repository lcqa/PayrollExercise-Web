<div class="container">
    <div class="alerts">
        <p *ngFor="let error of errorMessage">
            <ngb-alert [type]="'danger'" (closed)="closeAlert(error)">{{error}}</ngb-alert>
        </p>
    </div>

    <div class="row mb-3">
        <label for="first-name" class="col-sm-2 col-form-label">First Name</label>
        <div class="col-sm-10">
            <input type="text" id="first-name" class="form-control" [(ngModel)]="request.firstName">
        </div>  
    </div>

    <div class="row mb-3">
        <label for="last-name" class="col-sm-2 col-form-label">Last Name</label>
        <div class="col-sm-10">
            <input type="text" id="last-name" class="form-control" [(ngModel)]="request.lastName">
        </div>
      
    </div>

    <div class="row mb-3">
        <label for="annual-salary" class="col-sm-2 col-form-label">Annual Salary</label>
        <div class="col-sm-10">
            <input type="text" id="annual-salary" class="form-control" [(ngModel)]="request.annualSalary">
        </div>
       
    </div>

    <div class="row mb-3">
        <label for="super-rate" class="col-sm-2 col-form-label">Super Rate</label>
        <div class="col-sm-10">
            <input type="number" id="super-rate" class="form-control" [(ngModel)]="request.superRate" [min]="1" [max]="50">
        </div>
       
    </div>

    <div class="row mb-3">
        <label for="pay-period" class="col-sm-2 col-form-label">Pay Period</label>
        <div class="col-sm-10">
            <select class="form-select" id="pay-period" [(ngModel)]="request.payPeriod">
                <option *ngFor="let month of months" [value]="month.value">
                    {{month.name}}
                </option>
            </select>
        </div>
    </div>

    <button class="btn btn-primary" (click)="submit()">Generate Payslip</button>
</div>

<div class="container" *ngIf="isSubmitted">
    <h2>Payroll Details</h2>
    
    <div class="header-section">
        <div class="name-section">
            <h4>Employee: {{employeeDetails.lastName}}, {{employeeDetails.firstName}}</h4>
        </div>
        <div class="pay-period-section">
            <h4>Pay Period: {{employeeDetails.payrollDetails.payPeriod}}</h4>
        </div>
    </div>
    <div>
        <div class="row">
            <h5>Gross Income:  {{employeeDetails.payrollDetails.grossIncome.toFixed(2)}}</h5>
        </div>
        <div>
            <h5>Income Tax: {{employeeDetails.payrollDetails.incomeTax.toFixed(2)}}</h5>
        </div>
        <div>
            <h5>Net Income: {{employeeDetails.payrollDetails.netIncome.toFixed(2)}}</h5>
        </div>
        <div>
            <h5>Super: {{employeeDetails.payrollDetails.super.toFixed(2)}}</h5>
        </div>
    </div>
</div>